<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gofakeit Autofill Example - Comprehensive Testing</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="https://gofakeit.com/favicon.ico"
    />
    <style>
      /* ============================================================================
         CSS VARIABLES
         ============================================================================ */
      
      :root {
        /* Colors - Dark Theme (Default) */
        --primary-color: #4dabf7;
        --primary-hover: #74c0fc;
        --secondary-color: #adb5bd;
        --secondary-hover: #ced4da;
        --success-color: #51cf66;
        --success-hover: #69db7c;
        --info-color: #66d9e8;
        --info-hover: #99e9f2;
        --warning-color: #ffd43b;
        --warning-hover: #fcc419;
        --danger-color: #ff6b6b;
        --light-gray: #343a40;
        --border-color: #495057;
        --text-muted: #adb5bd;
        --text-dark: #f8f9fa;
        --text-medium: #dee2e6;
        --bg-light: #495057;
        --bg-info-light: #1e3a5f;
        --bg-main: #212529;
        --bg-container: #343a40;
        --text-primary: #f8f9fa;
        --text-secondary: #adb5bd;
        --border-main: #495057;
      }

      /* Light Theme Variables */
      [data-theme="light"] {
        --primary-color: #007bff;
        --primary-hover: #0056b3;
        --secondary-color: #6c757d;
        --secondary-hover: #545b62;
        --success-color: #28a745;
        --success-hover: #1e7e34;
        --info-color: #17a2b8;
        --info-hover: #138496;
        --warning-color: #ffc107;
        --warning-hover: #e0a800;
        --danger-color: #dc3545;
        --light-gray: #f5f5f5;
        --border-color: #ddd;
        --text-muted: #666;
        --text-dark: #333;
        --text-medium: #555;
        --bg-light: #f8f9fa;
        --bg-info-light: #e7f3ff;
        --bg-main: #f5f5f5;
        --bg-container: #ffffff;
        --text-primary: #333;
        --text-secondary: #666;
        --border-main: #ddd;
      }

      :root {
        /* Spacing */
        --spacing-sm: 8px;
        --spacing-md: 14px;
        --spacing-lg: 20px;

        /* Border radius */
        --radius-sm: 4px;
        --radius-md: 6px;
        --radius-lg: 8px;

        /* Font sizes */
        --font-xs: 10px;
        --font-sm: 12px;
        --font-base: 16px;

        /* Shadows */
        --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.1);
        --shadow-medium: -2px 0 10px rgba(0, 0, 0, 0.1);
      }

      /* ============================================================================
         BASE ELEMENTS
         ============================================================================ */

      body {
        font-family: Helvetica, Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: var(--bg-main);
        display: flex;
        transition: background-color 0.3s ease;
      }

      /* ============================================================================
         SEMANTIC STYLING
         ============================================================================ */

      /* Text styling */
      .text-muted {
        color: var(--text-muted);
        transition: color 0.3s ease;
      }

      .text-primary {
        color: var(--text-primary);
        transition: color 0.3s ease;
      }

      /* ============================================================================
         LAYOUT CONTAINERS
         ============================================================================ */
      .main-content {
        flex: 1;
        padding: var(--spacing-lg);
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-lg);
      }

      .container {
        background: var(--bg-container);
        padding: 22px;
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-light);
        transition: background-color 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-lg);
      }

      h1, h2, h3, h4, h5, h6 {
        color: var(--text-primary);
        margin: 0;
        padding: 0;
        transition: color 0.3s ease;
      }

      h1 {
        text-align: center;
      }

      p {
        color: var(--text-primary);
        transition: color 0.3s ease;
        margin: 0;
        padding: 0;
        font-size: var(--font-base);
        line-height: 1.5;
      }

      /* ============================================================================
         FORM ELEMENTS
         ============================================================================ */

      .form-group {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-sm);
        margin-bottom: var(--spacing-md);
      }

      .form-group:last-child {
        margin-bottom: 0;
      }

      label {
        display: block;
        font-weight: 600;
        color: var(--text-primary);
        transition: color 0.3s ease;
        font-size: var(--font-sm);
      }

      input,
      textarea,
      select {
        width: 100%;
        padding: 10px;
        border: 2px solid var(--border-color);
        border-radius: var(--radius-sm);
        font-size: var(--font-base);
        background-color: var(--bg-container);
        color: var(--text-primary);
        transition: border-color 0.3s, background-color 0.3s, color 0.3s;
        box-sizing: border-box;
      }

      /* Special styling for color input */
      input[type="color"] {
        height: 50px;
        padding: 5px;
        cursor: pointer;
        border-radius: var(--radius-md);
        border: 2px solid var(--border-color);
        background-color: var(--bg-container);
        transition: border-color 0.3s, background-color 0.3s;

        &:hover {
          border-color: var(--primary-color);
        }
      }

      /* Dark mode styling for checkboxes and radio buttons */
      input[type="checkbox"],
      input[type="radio"] {
        accent-color: var(--primary-color);
        background-color: var(--bg-container);
        border: 2px solid var(--border-color);
        transition: border-color 0.3s, background-color 0.3s;

        &:hover {
          border-color: var(--primary-color);
        }
      }

      input:focus,
      textarea:focus,
      select:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      /* Dark mode styling for select options */
      select option {
        background-color: var(--bg-container);
        color: var(--text-primary);
      }

      /* Enhanced select styling for dark mode */
      select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;

        /* Dark mode select arrow (default) */
        &:not([data-theme="light"]) {
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23adb5bd' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
        }
      }

      .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--spacing-md);
        width: 100%;

        .form-group {
          margin-bottom: 0;
        }
      }

      .input-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--spacing-md);
        margin-bottom: var(--spacing-lg);
      }

      .input-grid .form-group {
        margin-bottom: 0;
      }

      .form-group.full-width {
        grid-column: 1 / -1;
        margin-bottom: var(--spacing-md);
      }

      /* Theme Toggle Button */
      .theme-toggle {
        display: flex;
        position: absolute;
        top: 0;
        right: 0;
        margin-top: calc(var(--spacing-lg) + var(--spacing-sm));
        margin-right: calc(var(--spacing-lg) + var(--spacing-sm));
        justify-content: flex-end;
      }

      .theme-toggle-btn {
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        font-size: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow-light);

        &:hover {
          background: var(--primary-hover);
          transform: scale(1.1);
        }

        &:active {
          transform: scale(0.95);
        }

        .theme-icon {
          transition: transform 0.3s ease;
        }

        &:hover .theme-icon {
          transform: rotate(180deg);
        }
      }

      /* ============================================================================
         BUTTONS
         ============================================================================ */

      .btn {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: var(--spacing-md) 16px;
        border-radius: var(--radius-sm);
        cursor: pointer;
        font-size: var(--font-base);
        margin: 5px 0;
        transition: background-color 0.3s;
        width: 100%;
        height: 50px;
        display: block;

        &:hover {
          background: var(--primary-hover);
        }

        &.btn-secondary {
          background: var(--secondary-color);

          &:hover {
            background: var(--secondary-hover);
          }
        }

        &.btn-success {
          background: var(--success-color);

          &:hover {
            background: var(--success-hover);
          }
        }

        &.btn-info {
          background: var(--info-color);

          &:hover {
            background: var(--info-hover);
          }
        }

        &.btn-warning {
          background: var(--warning-color);
          color: #212529;

          &:hover {
            background: var(--warning-hover);
          }
        }

        &.btn-primary {
          background: var(--primary-color);

          &:hover {
            background: var(--primary-hover);
          }
        }
      }

      /* ============================================================================
         SETTINGS COMPONENTS
         ============================================================================ */
      .setting-item {
        background: var(--bg-light);
        padding: var(--spacing-md);
        border-radius: var(--radius-sm);
        border: 1px solid var(--border-color);
      }

      .setting-label {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        cursor: pointer;
        font-weight: 500;

        input[type="checkbox"] {
          width: 18px;
          height: 18px;
          margin: 0;
          cursor: pointer;
        }
      }

      .setting-text {
        flex: 1;
        font-size: var(--font-base);
      }

      .setting-description {
        margin-top: var(--spacing-sm);
        margin-left: 26px;
        line-height: 1.4;
        font-size: var(--font-sm);
        color: var(--text-muted);
      }

      .setting-range {
        width: 100px;
        margin: 0 var(--spacing-sm);
      }

      .setting-value {
        min-width: 30px;
        text-align: right;
        font-weight: 500;
        color: var(--primary-color);
      }

      /* ============================================================================
         TOGGLE COMPONENTS
         ============================================================================ */
      .mode-toggle {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .mode-label {
        font-weight: 500;
        color: var(--text-primary);
        min-width: 40px;
      }

      .toggle-container {
        display: flex;
        background: var(--bg-light);
        border-radius: var(--radius-sm);
        border: 1px solid var(--border-color);
        overflow: hidden;
        position: relative;
      }

      .toggle-container input[type="radio"] {
        display: none;
      }

      .toggle-option {
        padding: 6px 12px;
        font-size: var(--font-sm);
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        background: transparent;
        color: var(--text-muted);
        border: none;
        min-width: 50px;
        text-align: center;
      }

      .toggle-container input[type="radio"]:checked + .toggle-option {
        background: var(--primary-color);
        color: white;
      }

      .toggle-container input[type="radio"]:checked + .toggle-option:hover {
        background: var(--primary-color);
      }

      .toggle-option:hover {
        background: var(--bg-hover);
        color: var(--text-primary);
      }

      /* Compact setting styles */
      .setting-label.compact {
        margin-bottom: 0;
      }

      .setting-range.compact {
        width: 80px;
        margin: 0 var(--spacing-xs);
      }

      .setting-description {
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
        margin-top: var(--spacing-xs);
        margin-left: 0;
      }

      /* ============================================================================
         STAGGERED TIMING COMPONENTS
         ============================================================================ */
      .staggered-toggle {
        display: flex;
        align-items: center;
        justify-content: space-between;

        .staggered-label {
          font-size: var(--font-sm);
          font-weight: 500;
          color: var(--text-primary);
        }
      }

      .delay-display {
        background: var(--primary-color);
        color: white;
        padding: 2px 6px;
        border-radius: var(--radius-sm);
        font-size: var(--font-xs);
        font-weight: 500;
        min-width: 35px;
        text-align: center;
      }

      .staggered-slider {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xs);

        .setting-range {
          width: 100%;
          margin: 0;
          height: 6px;
          background: var(--bg-light);
          border-radius: 3px;
          outline: none;
          -webkit-appearance: none;

          &::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          }

          &::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          }
        }
      }

      .slider-labels {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: var(--font-xs);
        color: var(--text-muted);
        margin-top: 2px;

        .delay-display {
          position: absolute;
          left: 50%;
          transform: translateX(-50%);
          margin-top: -2px;
        }
      }

      .sidebar {
        width: 300px;
        background: var(--bg-container);
        border-left: 1px solid var(--border-color);
        padding: var(--spacing-lg);
        position: sticky;
        top: 0;
        height: 100vh;
        overflow-y: auto;
        box-shadow: var(--shadow-medium);
        transition: background-color 0.3s ease, border-color 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-lg);
      }

      .controls {
        text-align: center;
        padding: var(--spacing-lg);
        background: var(--bg-light);
        border-radius: var(--radius-lg);
        transition: background-color 0.3s ease;
      }

      .settings-section {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
        padding-top: var(--spacing-lg);
        border-top: 1px solid var(--border-color);
      }

      .field-note {
        font-size: var(--font-xs);
        color: var(--text-muted);
        font-style: italic;
        margin-top: var(--spacing-xs);
        line-height: 1.3;
      }

      .checkbox-group,
      .radio-group {
        display: flex;
        gap: var(--spacing-md);
        flex-wrap: wrap;
      }

      .checkbox-item,
      .radio-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);

        input {
          width: auto;
        }

        label {
          margin: 0;
          font-weight: normal;
        }
      }

      .section {
        border: 1px solid var(--border-color);
        padding: var(--spacing-lg);
        border-radius: var(--radius-lg);
        background-color: var(--bg-container);
        transition: background-color 0.3s ease, border-color 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
      }

      /* ============================================================================
         STATUS AND NOTIFICATIONS
         ============================================================================ */

      .status {
        position: fixed;
        top: var(--spacing-lg);
        right: var(--spacing-lg);
        padding: 10px var(--spacing-lg);
        border-radius: var(--radius-sm);
        color: white;
        font-weight: bold;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;

        &.success {
          background: var(--success-color);
        }

        &.error {
          background: var(--danger-color);
        }

        &.show {
          opacity: 1;
          visibility: visible;
        }
      }

      .status-badge {
        position: fixed;
        top: var(--spacing-lg);
        left: var(--spacing-lg);
        padding: 8px var(--spacing-md);
        border-radius: var(--radius-sm);
        color: white;
        font-weight: 500;
        font-size: 14px;
        z-index: 1000;
        transition: all 0.3s ease;

        &.idle {
          background: var(--secondary-color);
        }

        &.starting {
          background: var(--info-color);
        }

        &.initializing {
          background: var(--info-color);
        }

        &.determining_functions {
          background: var(--warning-color);
          color: var(--bg-main);
        }

        &.getting_values {
          background: var(--primary-color);
        }

        &.applying_values {
          background: var(--primary-color);
        }

        &.completed {
          background: var(--success-color);
        }

        &.error {
          background: var(--danger-color);
        }
      }

      /* ============================================================================
         CONTEXT INDICATORS
         ============================================================================ */

      .context-indicator {
        font-size: var(--font-sm);
        padding: 2px 6px;
        border-radius: 3px;
        margin-left: var(--spacing-sm);
        font-weight: normal;

        &.context-rich {
          background: #d4edda;
          color: #155724;
        }

        &.context-sparse {
          background: #fff3cd;
          color: #856404;
        }

        &.context-medium {
          background: #cce5ff;
          color: #004085;
        }
      }

      /* Style select elements that have btn class to look like buttons */
      select.btn {
        background: var(--secondary-color);
        color: white;
        border: none;
        padding: var(--spacing-md) 16px;
        border-radius: var(--radius-sm);
        cursor: pointer;
        font-size: var(--font-base);
        margin: 5px 0;
        transition: background-color 0.3s;
        width: 100%;
        height: 50px;
        display: block;
        text-align: center;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
      }

      select.btn:hover {
        background: var(--secondary-hover);
      }

      select.btn option {
        background: var(--secondary-color);
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="status" class="status"></div>
    <div id="statusDisplay" class="status-badge idle">Ready</div>

    <div class="main-content">
      <h1>üéØ Gofakeit Autofill</h1>

      <div class="container">
        <!-- RICH CONTEXT EXAMPLES - Lots of descriptive text -->
        <div class="section" id="rich-context">
          <h3>
            üìù Rich Context Examples
            <span class="context-indicator context-rich">Rich Context</span>
          </h3>
          <p>
            These fields have lots of descriptive text to help the search API
            find the right functions.
          </p>

          <div class="row">
            <div class="form-group">
              <label for="firstName"
                >First Name
                <span class="context-indicator context-rich">Rich</span></label
              >
              <input
                type="text"
                id="firstName"
                placeholder="Enter your first name here"
                aria-label="First name field for user registration"
              />
            </div>
            <div class="form-group">
              <label for="lastName"
                >Last Name
                <span class="context-indicator context-rich">Rich</span></label
              >
              <input
                type="text"
                id="lastName"
                placeholder="Enter your last name here"
                aria-label="Last name field for user registration"
              />
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="email"
                >Email Address
                <span class="context-indicator context-rich">Rich</span></label
              >
              <input
                type="email"
                id="email"
                placeholder="Enter your email address for account verification"
                aria-label="Email address field for user registration"
              />
            </div>
            <div class="form-group">
              <label for="phone"
                >Phone Number
                <span class="context-indicator context-rich">Rich</span></label
              >
              <input
                type="tel"
                id="phone"
                placeholder="Enter your phone number for contact purposes"
                aria-label="Phone number field for user contact"
              />
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="ssn"
                >Social Security Number
                <span class="context-indicator context-rich">Rich</span></label
              >
              <input
                type="text"
                id="ssn"
                placeholder="XXX-XX-XXXX format for tax purposes"
                aria-label="Social security number field for tax identification"
              />
            </div>
            <div class="form-group">
              <label for="dateOfBirth"
                >Date of Birth
                <span class="context-indicator context-rich">Rich</span></label
              >
              <input
                type="date"
                id="dateOfBirth"
                aria-label="Date of birth field for age verification"
              />
            </div>
          </div>
        </div>

        <!-- MEDIUM CONTEXT EXAMPLES - Some descriptive text -->
        <div class="section" id="medium-context">
          <h3>
            üìã Medium Context Examples
            <span class="context-indicator context-medium">Medium Context</span>
          </h3>
          <p>
            These fields have some descriptive text to test moderate context
            detection.
          </p>

          <div class="row">
            <div class="form-group">
              <label for="company"
                >Company
                <span class="context-indicator context-medium"
                  >Medium</span
                ></label
              >
              <input
                type="text"
                id="company"
                placeholder="Enter company name"
              />
            </div>
            <div class="form-group">
              <label for="jobTitle"
                >Job Title
                <span class="context-indicator context-medium"
                  >Medium</span
                ></label
              >
              <input
                type="text"
                id="jobTitle"
                placeholder="Enter job title"
              />
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="website"
                >Website
                <span class="context-indicator context-medium"
                  >Medium</span
                ></label
              >
              <input
                type="url"
                id="website"
                placeholder="https://example.com"
              />
            </div>
            <div class="form-group">
              <label for="street"
                >Street Address
                <span class="context-indicator context-medium"
                  >Medium</span
                ></label
              >
              <input
                type="text"
                id="street"
                placeholder="Enter street address"
              />
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="city"
                >City
                <span class="context-indicator context-medium"
                  >Medium</span
                ></label
              >
              <input
                type="text"
                id="city"
                placeholder="Enter city"
              />
            </div>
            <div class="form-group">
              <label for="state"
                >State
                <span class="context-indicator context-medium"
                  >Medium</span
                ></label
              >
              <input
                type="text"
                id="state"
                placeholder="Enter state"
              />
            </div>
          </div>
        </div>

        <!-- SPARSE CONTEXT EXAMPLES - Minimal text -->
        <div class="section" id="sparse-context">
          <h3>
            üîç Sparse Context Examples
            <span class="context-indicator context-sparse">Sparse Context</span>
          </h3>
          <p>
            These fields have minimal context to test the search API's ability
            to work with limited information.
          </p>

          <div class="row">
            <div class="form-group">
              <label for="zipCode"
                >Zip
                <span class="context-indicator context-sparse"
                  >Sparse</span
                ></label
              >
              <input type="text" id="zipCode"  />
            </div>
            <div class="form-group">
              <label for="country"
                >Country
                <span class="context-indicator context-sparse"
                  >Sparse</span
                ></label
              >
              <input type="text" id="country"  />
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="age"
                >Age
                <span class="context-indicator context-sparse"
                  >Sparse</span
                ></label
              >
              <input type="number" id="age"  />
            </div>
            <div class="form-group">
              <label for="salary"
                >Salary
                <span class="context-indicator context-sparse"
                  >Sparse</span
                ></label
              >
              <input
                type="range"
                id="salary"
                min="20000"
                max="200000"
                step="5000"
              />
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="color"
                >Color
                <span class="context-indicator context-sparse"
                  >Sparse</span
                ></label
              >
              <input type="color" id="color"  />
            </div>
            <div class="form-group">
              <label for="bio"
                >Bio
                <span class="context-indicator context-sparse"
                  >Sparse</span
                ></label
              >
              <textarea id="bio" rows="3"></textarea>
            </div>
          </div>
        </div>

        <!-- CATEGORIES -->
        <div class="section" id="categories">
          <h3>üè∑Ô∏è Categories</h3>
          <p>
            Testing various gofakeit categories with different input types.
          </p>

          <!-- PERSON CATEGORY -->
          <div id="person-category">
            <h4>üë§ Person Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="personName">Person Name</label>
                <input
                  type="text"
                  id="personName"
                  placeholder="Full person name"
                />
              </div>
              <div class="form-group">
                <label for="gender">Gender</label>
                <input
                  type="text"
                  id="gender"
                  placeholder="Gender selection"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="petName">Pet Name</label>
                <input
                  type="text"
                  id="petName"
                  placeholder="Pet name"
                />
              </div>
              <div class="form-group">
                <label for="username">Username</label>
                <input
                  type="text"
                  id="username"
                  placeholder="Username for login"
                />
              </div>
            </div>
          </div>

          <!-- ADDRESS CATEGORY -->
          <div id="address-category">
            <h4>üè† Address Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="latitude">Latitude</label>
                <input
                  type="number"
                  id="latitude"
                  placeholder="Geographic latitude"
                />
              </div>
              <div class="form-group">
                <label for="longitude">Longitude</label>
                <input
                  type="number"
                  id="longitude"
                  placeholder="Geographic longitude"
                />
              </div>
            </div>
          </div>

          <!-- COMPANY CATEGORY -->
          <div id="company-category">
            <h4>üè¢ Company Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="companySuffix">Company Suffix</label>
                <input
                  type="text"
                  id="companySuffix"
                  placeholder="Inc, LLC, Corp, etc."
                />
              </div>
              <div class="form-group">
                <label for="jobLevel">Job Level</label>
                <input
                  type="text"
                  id="jobLevel"
                  placeholder="Entry, Mid, Senior, etc."
                />
              </div>
            </div>
          </div>

          <!-- PAYMENT CATEGORY -->
          <div id="payment-category">
            <h4>üí≥ Payment Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="creditCard">Credit Card</label>
                <input
                  type="text"
                  id="creditCard"
                  placeholder="Credit card number"
                />
              </div>
              <div class="form-group">
                <label for="creditCardType">Credit Card Type</label>
                <input
                  type="text"
                  id="creditCardType"
                  placeholder="Visa, MasterCard, etc."
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="creditCardCVV">Credit Card CVV</label>
                <input
                  type="text"
                  id="creditCardCVV"
                  placeholder="3-4 digit security code"
                />
              </div>
              <div class="form-group">
                <label for="creditCardExp">Credit Card Expiry</label>
                <input
                  type="text"
                  id="creditCardExp"
                  placeholder="MM/YY format"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="bankName">Bank Name</label>
                <input
                  type="text"
                  id="bankName"
                  placeholder="Bank institution name"
                />
              </div>
              <div class="form-group">
                <label for="creditCardNumber">Credit Card Number</label>
                <input
                  type="text"
                  id="creditCardNumber"
                  placeholder="Full credit card number"
                />
              </div>
            </div>
          </div>

          <!-- INTERNET CATEGORY -->
          <div id="internet-category">
            <h4>üåê Internet Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="domainName">Domain Name</label>
                <input
                  type="text"
                  id="domainName"
                  placeholder="example.com"
                />
              </div>
              <div class="form-group">
                <label for="ipv6Address">IPv6 Address</label>
                <input
                  type="text"
                  id="ipv6Address"
                  placeholder="IPv6 address"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="userAgent">User Agent</label>
                <input
                  type="text"
                  id="userAgent"
                  placeholder="Browser user agent string"
                />
              </div>
              <div class="form-group">
                <label for="httpMethod">HTTP Method</label>
                <input
                  type="text"
                  id="httpMethod"
                  placeholder="GET, POST, PUT, etc."
                />
              </div>
            </div>
          </div>

          <!-- TIME CATEGORY -->
          <div id="time-category">
            <h4>‚è∞ Time Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="timezone">Timezone</label>
                <input
                  type="text"
                  id="timezone"
                  placeholder="UTC, EST, PST, etc."
                />
              </div>
              <div class="form-group">
                <label for="weekday">Weekday</label>
                <input
                  type="text"
                  id="weekday"
                  placeholder="Monday, Tuesday, etc."
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="month">Month</label>
                <input
                  type="text"
                  id="month"
                  placeholder="January, February, etc."
                />
              </div>
              <div class="form-group">
                <label for="year">Year</label>
                <input
                  type="number"
                  id="year"
                  placeholder="Year value"
                />
              </div>
            </div>
          </div>

          <!-- LANGUAGE CATEGORY -->
          <div id="language-category">
            <h4>üó£Ô∏è Language Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="programmingLanguage">Programming Language</label>
                <input
                  type="text"
                  id="programmingLanguage"
                  placeholder="JavaScript, Python, Go, etc."
                />
              </div>
              <div class="form-group">
                <label for="languageAbbreviation">Language Abbreviation</label>
                <input
                  type="text"
                  id="languageAbbreviation"
                  placeholder="en, es, fr, etc."
                />
              </div>
            </div>
          </div>

          <!-- WORD CATEGORY -->
          <div id="word-category">
            <h4>üìù Word Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="noun">Noun</label>
                <input
                  type="text"
                  id="noun"
                  placeholder="Random noun"
                />
              </div>
              <div class="form-group">
                <label for="verb">Verb</label>
                <input
                  type="text"
                  id="verb"
                  placeholder="Random verb"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="adjective">Adjective</label>
                <input
                  type="text"
                  id="adjective"
                  placeholder="Random adjective"
                />
              </div>
              <div class="form-group">
                <label for="sentence">Sentence</label>
                <input
                  type="text"
                  id="sentence"
                  placeholder="Random sentence"
                />
              </div>
            </div>
          </div>

          <!-- COLOR CATEGORY -->
          <div id="color-category">
            <h4>üé® Color Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="hexColor">Hex Color</label>
                <input
                  type="text"
                  id="hexColor"
                  placeholder="#FF0000"
                />
              </div>
              <div class="form-group">
                <label for="rgbColor">RGB Color</label>
                <input
                  type="text"
                  id="rgbColor"
                  placeholder="rgb(255, 0, 0)"
                />
              </div>
            </div>
          </div>

          <!-- ANIMAL CATEGORY -->
          <div id="animal-category">
            <h4>üêæ Animal Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="animal">Animal</label>
                <input
                  type="text"
                  id="animal"
                  placeholder="Random animal"
                />
              </div>
              <div class="form-group">
                <label for="bird">Bird</label>
                <input
                  type="text"
                  id="bird"
                  placeholder="Random bird"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="cat">Cat</label>
                <input
                  type="text"
                  id="cat"
                  placeholder="Random cat breed"
                />
              </div>
              <div class="form-group">
                <label for="dog">Dog</label>
                <input
                  type="text"
                  id="dog"
                  placeholder="Random dog breed"
                />
              </div>
            </div>
          </div>

          <!-- FOOD CATEGORY -->
          <div id="food-category">
            <h4>üçï Food Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="fruit">Fruit</label>
                <input
                  type="text"
                  id="fruit"
                  placeholder="Random fruit"
                />
              </div>
              <div class="form-group">
                <label for="vegetable">Vegetable</label>
                <input
                  type="text"
                  id="vegetable"
                  placeholder="Random vegetable"
                />
              </div>
            </div>
            <div class="row">
              <div class="form-group">
                <label for="breakfast">Breakfast</label>
                <input
                  type="text"
                  id="breakfast"
                  placeholder="Breakfast food"
                />
              </div>
              <div class="form-group">
                <label for="lunch">Lunch</label>
                <input
                  type="text"
                  id="lunch"
                  placeholder="Lunch food"
                />
              </div>
            </div>
          </div>

          <!-- CAR CATEGORY -->
          <div id="car-category">
            <h4>üöó Car Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="carMaker">Car Maker</label>
                <input
                  type="text"
                  id="carMaker"
                  placeholder="Car manufacturer"
                />
              </div>
              <div class="form-group">
                <label for="carModel">Car Model</label>
                <input
                  type="text"
                  id="carModel"
                  placeholder="Car model name"
                />
              </div>
            </div>
          </div>

          <!-- GAME CATEGORY -->
          <div id="game-category">
            <h4>üéÆ Game Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="gamertag">Gamertag</label>
                <input
                  type="text"
                  id="gamertag"
                  placeholder="Gaming username"
                />
              </div>
              <div class="form-group">
                <label for="dice">Dice</label>
                <input
                  type="text"
                  id="dice"
                  placeholder="Dice roll result"
                />
              </div>
            </div>
          </div>

          <!-- MISC CATEGORY -->
          <div id="misc-category">
            <h4>üé≤ Misc Category</h4>
            <div class="row">
              <div class="form-group">
                <label for="uuid">UUID</label>
                <input
                  type="text"
                  id="uuid"
                  placeholder="Unique identifier"
                />
              </div>
              <div class="form-group">
                <label for="bool">Boolean</label>
                <input
                  type="text"
                  id="bool"
                  placeholder="True or false"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- CUSTOM FUNCTION EXAMPLES -->
        <div class="section" id="custom-functions">
          <h3>üéØ Custom Function Examples</h3>
          <p>
            Examples with specific function assignments.
          </p>

          <div class="row">
            <div class="form-group">
              <label for="customUuid">UUID (Custom)</label>
              <input
                type="text"
                id="customUuid"
                data-gofakeit="uuid"
                placeholder="Will generate UUID"
              />
              <div class="field-note">data-gofakeit="uuid"</div>
            </div>
            <div class="form-group">
              <label for="customCreditCard">Credit Card Number (Custom)</label>
              <input
                type="text"
                id="customCreditCard"
                data-gofakeit="creditcardnumber"
                placeholder="Will generate credit card"
              />
              <div class="field-note">data-gofakeit="creditcard"</div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="customBitcoin">Bitcoin Address (Custom)</label>
              <input
                type="text"
                id="customBitcoin"
                data-gofakeit="bitcoinaddress"
                placeholder="Will generate Bitcoin address"
              />
              <div class="field-note">data-gofakeit="bitcoinaddress"</div>
            </div>
            <div class="form-group">
              <label for="customIp">IP Address (Custom)</label>
              <input
                type="text"
                id="customIp"
                data-gofakeit="ipv4address"
                placeholder="Will generate IP address"
              />
              <div class="field-note">data-gofakeit="ipv4address"</div>
            </div>
          </div>
          <div class="form-group">
            <label for="customLorem">Lorem Ipsum Paragraph (Custom)</label>
            <textarea
              id="customLorem"
              data-gofakeit="loremipsumparagraph"
              rows="3"
              placeholder="Will generate Lorem Ipsum text"
            ></textarea>
            <div class="field-note">data-gofakeit="loremipsumparagraph"</div>
          </div>
        </div>

        <!-- DATA-GOFAKEIT="TRUE" DEMONSTRATION -->
        <div class="section" id="data-gofakeit-true">
          <h3>‚úÖ Data-gofakeit="true" Fields</h3>
          <p>
            These fields have <code>data-gofakeit="true"</code> and will be autofilled regardless of Auto Mode setting.
          </p>

          <div class="input-grid">
            <div class="form-group">
              <label for="trueFirstName">First Name</label>
              <input
                type="text"
                id="trueFirstName"
                data-gofakeit="true"
                placeholder="Will be filled with smart detection"
              />
              <div class="field-note">data-gofakeit="true"</div>
            </div>

            <div class="form-group">
              <label for="trueEmail">Email</label>
              <input
                type="email"
                id="trueEmail"
                data-gofakeit="true"
                placeholder="Will be filled with email function"
              />
              <div class="field-note">data-gofakeit="true"</div>
            </div>

            <div class="form-group">
              <label for="truePhone">Phone</label>
              <input
                type="tel"
                id="truePhone"
                data-gofakeit="true"
                placeholder="Will be filled with phone function"
              />
              <div class="field-note">data-gofakeit="true"</div>
            </div>

            <div class="form-group">
              <label for="trueNumber">Age</label>
              <input
                type="number"
                id="trueNumber"
                data-gofakeit="true"
                placeholder="Will be filled with number function"
              />
              <div class="field-note">data-gofakeit="true"</div>
            </div>

            <div class="form-group">
              <label for="trueDate">Birth Date</label>
              <input
                type="date"
                id="trueDate"
                data-gofakeit="true"
                placeholder="Will be filled with date function"
              />
              <div class="field-note">data-gofakeit="true"</div>
            </div>

            <div class="form-group">
              <label for="trueSelect">Country</label>
              <select id="trueSelect" data-gofakeit="true">
                <option value="">Select country</option>
                <option value="us">United States</option>
                <option value="ca">Canada</option>
                <option value="uk">United Kingdom</option>
                <option value="de">Germany</option>
                <option value="fr">France</option>
              </select>
              <div class="field-note">data-gofakeit="true"</div>
            </div>
          </div>

          <div class="form-group full-width">
            <label for="trueTextarea">Bio</label>
            <textarea
              id="trueTextarea"
              data-gofakeit="true"
              rows="3"
              placeholder="Will be filled with sentence function"
            ></textarea>
            <div class="field-note">data-gofakeit="true"</div>
          </div>

          <div class="form-group full-width">
            <label for="trueCheckbox">Agree to Terms</label>
            <div class="checkbox-item">
              <input type="checkbox" id="trueCheckbox" data-gofakeit="true" />
              <label for="trueCheckbox">I agree to the terms and conditions</label>
            </div>
            <div class="field-note">data-gofakeit="true"</div>
          </div>

          <div class="form-group full-width">
            <label>Gender</label>
            <div class="radio-group">
              <div class="radio-item">
                <input type="radio" id="trueMale" name="trueGender" data-gofakeit="true" />
                <label for="trueMale">Male</label>
              </div>
              <div class="radio-item">
                <input type="radio" id="trueFemale" name="trueGender" data-gofakeit="true" />
                <label for="trueFemale">Female</label>
              </div>
              <div class="radio-item">
                <input type="radio" id="trueOther" name="trueGender" data-gofakeit="true" />
                <label for="trueOther">Other</label>
              </div>
            </div>
            <div class="field-note">data-gofakeit="true"</div>
          </div>
        </div>

        <!-- EXCLUDED INPUT TYPES -->
        <div class="section" id="no-search-inputs">
          <h3>üö´ No Search Inputs</h3>
          <p>
            These input types are excluded from search API and use direct
            function assignment.
          </p>

          <div class="form-group">
            <label>Programming Languages (Checkboxes)</label>
            <div class="checkbox-group">
              <div class="checkbox-item">
                <input type="checkbox" id="lang1"  />
                <label for="lang1">JavaScript</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="lang2"  />
                <label for="lang2">Python</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="lang3"  />
                <label for="lang3">Go</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="lang4"  />
                <label for="lang4">Rust</label>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label>Experience Level (Radio Buttons)</label>
            <div class="radio-group">
              <div class="radio-item">
                <input
                  type="radio"
                  name="experience"
                  id="exp1"
                />
                <label for="exp1">Beginner</label>
              </div>
              <div class="radio-item">
                <input
                  type="radio"
                  name="experience"
                  id="exp2"
                />
                <label for="exp2">Intermediate</label>
              </div>
              <div class="radio-item">
                <input
                  type="radio"
                  name="experience"
                  id="exp3"
                />
                <label for="exp3">Advanced</label>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="timezoneSelect">Timezone (Select)</label>
            <select id="timezoneSelect" >
              <option value="">Select timezone</option>
              <option value="UTC">UTC (Coordinated Universal Time)</option>
              <option value="EST">EST (Eastern Standard Time)</option>
              <option value="CST">CST (Central Standard Time)</option>
              <option value="MST">MST (Mountain Standard Time)</option>
              <option value="PST">PST (Pacific Standard Time)</option>
            </select>
          </div>
        </div>

        <!-- EXCLUDED FIELDS -->
        <div class="section" id="excluded-fields">
          <h3>üö´ Excluded Fields (data-gofakeit="false")</h3>
          <p>
            These fields will NOT be filled by the autofill function.
          </p>

          <div class="row">
            <div class="form-group">
              <label for="excludedField1">Excluded Field 1</label>
              <input
                type="text"
                id="excludedField1"
                data-gofakeit="false"
                placeholder="This field will NOT be filled"
              />
            </div>
            <div class="form-group">
              <label for="excludedField2">Excluded Field 2</label>
              <input
                type="text"
                id="excludedField2"
                data-gofakeit="false"
                placeholder="This field will NOT be filled"
              />
            </div>
          </div>
        </div>

        <!-- ERROR DEMONSTRATION SECTION -->
        <div class="section" id="error-demonstration">
          <h3>‚ö†Ô∏è Error Demonstration</h3>
          <p>
            These fields use invalid <code>data-gofakeit</code> values that should cause errors to be displayed.
            This helps test error handling and user feedback.
          </p>

          <div class="row">
            <div class="form-group">
              <label for="invalidFunction1">Invalid Function 1</label>
              <input
                type="text"
                id="invalidFunction1"
                data-gofakeit="nonexistentfunction"
                placeholder="Should show error for invalid function"
              />
              <div class="field-note">data-gofakeit="nonexistentfunction"</div>
            </div>
            <div class="form-group">
              <label for="invalidFunction2">Invalid Function 2</label>
              <input
                type="text"
                id="invalidFunction2"
                data-gofakeit="fakefunction123"
                placeholder="Should show error for invalid function"
              />
              <div class="field-note">data-gofakeit="fakefunction123"</div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="invalidFunction3">Invalid Function 3</label>
              <input
                type="text"
                id="invalidFunction3"
                data-gofakeit="notreal"
                placeholder="Should show error for invalid function"
              />
              <div class="field-note">data-gofakeit="notreal"</div>
            </div>
            <div class="form-group">
              <label for="invalidFunction4">Invalid Function 4</label>
              <input
                type="text"
                id="invalidFunction4"
                data-gofakeit="bogusdata"
                placeholder="Should show error for invalid function"
              />
              <div class="field-note">data-gofakeit="bogusdata"</div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="invalidFunction5">Invalid Function 5</label>
              <input
                type="email"
                id="invalidFunction5"
                data-gofakeit="madeupfunction"
                placeholder="Should show error for invalid function"
              />
              <div class="field-note">data-gofakeit="madeupfunction"</div>
            </div>
            <div class="form-group">
              <label for="invalidFunction6">Invalid Function 6</label>
              <input
                type="tel"
                id="invalidFunction6"
                data-gofakeit="wrongfunction"
                placeholder="Should show error for invalid function"
              />
              <div class="field-note">data-gofakeit="wrongfunction"</div>
            </div>
          </div>
          <div class="form-group">
            <label for="invalidFunction7">Invalid Function 7 (Textarea)</label>
            <textarea
              id="invalidFunction7"
              data-gofakeit="invalidtextarea"
              rows="3"
              placeholder="Should show error for invalid function"
            ></textarea>
            <div class="field-note">data-gofakeit="invalidtextarea"</div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar">
      <div class="controls">
        <!-- Night Mode Toggle at the top -->
        <div class="theme-toggle">
          <button
            id="themeToggle"
            class="theme-toggle-btn"
            title="Toggle dark mode"
          >
            <span class="theme-icon">üåô</span>
          </button>
        </div>

        <h3 style="margin-top: 0; color: var(--text-primary)">üéÆ Controls</h3>
        <button class="btn" onclick="autofill()">üöÄ Autofill All Fields</button>
        <button class="btn btn-secondary" onclick="autofill('#rich-context')">
          üìù Rich Context
        </button>
        <button class="btn btn-secondary" onclick="autofill('#medium-context')">
          üìã Medium Context
        </button>
        <button class="btn btn-secondary" onclick="autofill('#sparse-context')">
          üîç Sparse Context
        </button>
        <button
          class="btn btn-secondary"
          onclick="autofill('#categories')"
        >
          üè∑Ô∏è All Categories
        </button>
        <select
          id="categorySelector"
          data-gofakeit="false"
          class="btn btn-secondary"
          onchange="handleCategorySelection()"
        >
          <option value="">üéØ Select Category...</option>
          <option value="person-category">üë§ Person Category</option>
          <option value="address-category">üè† Address Category</option>
          <option value="company-category">üè¢ Company Category</option>
          <option value="payment-category">üí≥ Payment Category</option>
          <option value="internet-category">üåê Internet Category</option>
          <option value="time-category">‚è∞ Time Category</option>
          <option value="language-category">üó£Ô∏è Language Category</option>
          <option value="word-category">üìù Word Category</option>
          <option value="color-category">üé® Color Category</option>
          <option value="animal-category">üêæ Animal Category</option>
          <option value="food-category">üçï Food Category</option>
          <option value="car-category">üöó Car Category</option>
          <option value="game-category">üéÆ Game Category</option>
          <option value="misc-category">üé≤ Misc Category</option>
        </select>
        <button
          class="btn btn-secondary"
          onclick="autofill('#custom-functions')"
        >
          üéØ Custom Functions
        </button>
        <button
          class="btn btn-secondary"
          onclick="autofill('#data-gofakeit-true')"
        >
          ‚úÖ Data-gofakeit="true"
        </button>
        <button class="btn btn-secondary" onclick="autofill('#no-search-inputs')">
          üö´ No Search Inputs
        </button>
        <button
          class="btn btn-secondary"
          onclick="autofill('#error-demonstration')"
        >
          ‚ö†Ô∏è Error Demonstration
        </button>
        <button class="btn btn-success" onclick="clearAll()">
          üßπ Clear All
        </button>

        <div class="settings-section">
          <h4>üîß Settings</h4>

          <!-- Mode Toggle -->
          <div class="setting-item">
            <div class="mode-toggle">
              <span class="mode-label">Mode:</span>
              <div class="toggle-container">
                <input type="radio" id="modeAuto" name="mode" value="auto" checked>
                <label for="modeAuto" class="toggle-option">Auto</label>
                <input type="radio" id="modeManual" name="mode" value="manual">
                <label for="modeManual" class="toggle-option">Manual</label>
              </div>
            </div>
            <div class="setting-description">
              Auto: Fill all fields | Manual: Only marked fields
            </div>
          </div>

          <!-- Staggered Timing -->
          <div class="setting-item">
            <div class="staggered-toggle">
              <span class="staggered-label">‚è±Ô∏è Staggered:</span>
              <div class="toggle-container">
                <input type="radio" id="staggeredOn" name="staggered" value="on" checked>
                <label for="staggeredOn" class="toggle-option">On</label>
                <input type="radio" id="staggeredOff" name="staggered" value="off">
                <label for="staggeredOff" class="toggle-option">Off</label>
              </div>
            </div>
            <div class="staggered-slider">
              <input type="range" data-gofakeit="false" id="staggerDelay" min="0" max="500" value="50" class="setting-range" />
              <div class="slider-labels">
                <span>0ms</span>
                <span id="staggerDelayValue" class="delay-display">50ms</span>
                <span>500ms</span>
              </div>
            </div>
            <div class="setting-description">
              Add delays between field fills for visual effect
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="module">
      import { Autofill } from "./src/index.ts";

      // Make functions available globally
      window.autofill = async (target) => {
        try {
          // Get current settings
          const settings = getCurrentSettings();

          if (target) {
            // If target is a string, treat it as a CSS selector (ID, class, or other)
            if (typeof target === "string") {
              // Scroll to the section first
              const element = document.querySelector(target);
              if (element) {
                element.scrollIntoView({ behavior: "smooth", block: "start" });
                
                // Wait a moment for the scroll to complete, then autofill
                setTimeout(async () => {
                  const manager = new Autofill(settings);
                  await manager.autofill(target);
                  showStatus(
                    `‚úÖ ${target} section filled successfully!`,
                    "success"
                  );
                }, 500);
              } else {
                showStatus("‚ùå Element not found: " + target, "error");
              }
            } else {
              const manager = new AutofillManager(settings);
              await manager.autofill(target);
              showStatus("‚úÖ Element filled successfully!", "success");
            }
          } else {
            // No target - autofill all
            const manager = new AutofillManager(settings);
            await manager.autofill(undefined);
            showStatus("‚úÖ All fields filled successfully!", "success");
          }
        } catch (error) {
          showStatus("‚ùå Error filling fields: " + error.message, "error");
        }
      };

      // Function to handle category selection from dropdown
      window.handleCategorySelection = async () => {
        const selector = document.getElementById("categorySelector");
        const selectedCategory = selector.value;

        if (!selectedCategory) {
          return;
        }

        try {
          // Map category values to their heading text
          const categoryHeadingMap = {
            "person-category": "üë§ Person Category",
            "address-category": "üè† Address Category",
            "company-category": "üè¢ Company Category",
            "payment-category": "üí≥ Payment Category",
            "internet-category": "üåê Internet Category",
            "time-category": "‚è∞ Time Category",
            "language-category": "üó£Ô∏è Language Category",
            "word-category": "üìù Word Category",
            "color-category": "üé® Color Category",
            "animal-category": "üêæ Animal Category",
            "food-category": "üçï Food Category",
            "car-category": "üöó Car Category",
            "game-category": "üéÆ Game Category",
            "misc-category": "üé≤ Misc Category",
          };

          // Find the specific category heading by text content
          const headingText = categoryHeadingMap[selectedCategory];
          let categoryHeading = null;
          if (headingText) {
            const allHeadings = document.querySelectorAll("h4");
            for (const heading of allHeadings) {
              if (heading.textContent?.includes(headingText)) {
                categoryHeading = heading;
                break;
              }
            }
          }

          if (categoryHeading) {
            categoryHeading.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          } else {
            // Fallback: scroll to the categories section
            const section = document.getElementById("categories");
            if (section) {
              section.scrollIntoView({ behavior: "smooth", block: "start" });
            }
          }

          // Wait a moment for the scroll to complete, then autofill the specific fields
          setTimeout(async () => {
            // Find the category container
            const categoryContainer = document.getElementById(selectedCategory);
            if (!categoryContainer) {
              showStatus("‚ùå Category container not found!", "error");
              return;
            }

            try {
              // Get current settings
              const settings = getCurrentSettings();

              // Use the main autofill function with the category container
              const manager = new Autofill(settings);
              await manager.autofill(categoryContainer);

              // Count filled elements
              let filledCount = 0;
              const inputs = categoryContainer.querySelectorAll(
                "input, textarea, select"
              );
              inputs.forEach((element) => {
                if (element instanceof HTMLInputElement) {
                  if (element.type === "checkbox" || element.type === "radio") {
                    if (element.checked) filledCount++;
                  } else if (element.value) {
                    filledCount++;
                  }
                } else if (
                  element instanceof HTMLTextAreaElement ||
                  element instanceof HTMLSelectElement
                ) {
                  if (element.value) filledCount++;
                }
              });

              const categoryName = selector.options[selector.selectedIndex].text;
              showStatus(
                `‚úÖ ${categoryName} filled successfully! (${filledCount} fields)`,
                "success"
              );
            } catch (error) {
              console.warn("Failed to fill category:", error);
              showStatus(
                "‚ùå Error filling category: " + error.message,
                "error"
              );
            }

            // Reset the dropdown
            selector.value = "";
          }, 500);
        } catch (error) {
          showStatus("‚ùå Error filling category: " + error.message, "error");
          // Reset the dropdown even on error
          selector.value = "";
        }
      };

      // Function to get current settings from the UI controls
      function getCurrentSettings() {
        const mode = document.querySelector('input[name="mode"]:checked').value;
        const staggeredMode = document.querySelector('input[name="staggered"]:checked').value === 'on';
        const staggerDelay = parseInt(
          document.getElementById("staggerDelay").value
        );

        return {
          mode: mode,
          staggered: staggeredMode,
          staggerDelay: staggerDelay,
          onStatusChange: (status, state) => {
            console.log(`[Status Update] ${status}:`, state);
            
            // Update status display in UI
            const statusElement = document.getElementById('statusDisplay');
            if (statusElement) {
              const statusText = {
                'idle': 'Ready',
                'starting': 'Starting...',
                'initializing': 'Initializing inputs...',
                'determining_functions': 'Determining functions...',
                'getting_values': 'Getting values...',
                'applying_values': 'Applying values...',
                'completed': 'Completed!',
                'error': 'Error occurred'
              }[status] || status;
              
              statusElement.textContent = statusText;
              statusElement.className = `status-badge ${status}`;
            }
            
            // Show progress for certain statuses
            if (status === 'getting_values' || status === 'applying_values') {
              const processedCount = state.inputs.filter(input => input.value || input.error).length;
              const totalCount = state.inputs.length;
              if (totalCount > 0) {
                showStatus(`Processing ${processedCount}/${totalCount} fields...`, 'info');
              }
            }
          }
        };
      }

      // Function to autofill with current settings
      window.autofillWithCurrentSettings = async () => {
        try {
          const settings = getCurrentSettings();
          const manager = new Autofill(settings);
          await manager.autofill(undefined);

          const modeText = settings.mode === 'auto' ? "Auto Mode" : "Manual Mode";
          const staggerText = settings.staggered
            ? ` (${settings.staggerDelay}ms delay)`
            : " (no stagger)";
          showStatus(
            `‚úÖ All fields filled with ${modeText}${staggerText}!`,
            "success"
          );
        } catch (error) {
          showStatus("‚ùå Error filling fields: " + error.message, "error");
        }
      };

      // Update stagger delay value display and handle theme toggle
      document.addEventListener("DOMContentLoaded", function () {
        const staggerDelay = document.getElementById("staggerDelay");
        const staggerDelayValue = document.getElementById("staggerDelayValue");
        const themeToggle = document.getElementById("themeToggle");
        const themeIcon = themeToggle.querySelector(".theme-icon");

        if (staggerDelay && staggerDelayValue) {
          staggerDelay.addEventListener("input", function () {
            staggerDelayValue.textContent = this.value;
          });
        }

        // Handle theme toggle
        if (themeToggle) {
          // Get user's saved preference or system preference
          const savedTheme = localStorage.getItem("theme");
          const systemPrefersDark = window.matchMedia(
            "(prefers-color-scheme: dark)"
          ).matches;

          // Use saved preference if available, otherwise use system preference
          // Since dark is now default, we need to check if user wants light mode
          const shouldUseLight =
            savedTheme === "light" || (savedTheme === null && !systemPrefersDark);

          if (shouldUseLight) {
            document.documentElement.setAttribute("data-theme", "light");
            themeIcon.textContent = "üåô";
          } else {
            // Dark is default, no data-theme attribute needed
            themeIcon.textContent = "‚òÄÔ∏è";
          }

          themeToggle.addEventListener("click", function () {
            const isLight = document.documentElement.hasAttribute("data-theme") && 
                           document.documentElement.getAttribute("data-theme") === "light";

            if (isLight) {
              // Switch to dark mode (default)
              document.documentElement.removeAttribute("data-theme");
              localStorage.setItem("theme", "dark");
              themeIcon.textContent = "‚òÄÔ∏è";
            } else {
              // Switch to light mode
              document.documentElement.setAttribute("data-theme", "light");
              localStorage.setItem("theme", "light");
              themeIcon.textContent = "üåô";
            }
          });

          // Listen for system preference changes
          window
            .matchMedia("(prefers-color-scheme: dark)")
            .addEventListener("change", function (e) {
              // Only update if user hasn't set a preference
              if (localStorage.getItem("theme") === null) {
                if (e.matches) {
                  // System prefers dark, use default (dark)
                  document.documentElement.removeAttribute("data-theme");
                  themeIcon.textContent = "‚òÄÔ∏è";
                } else {
                  // System prefers light, switch to light
                  document.documentElement.setAttribute("data-theme", "light");
                  themeIcon.textContent = "üåô";
                }
              }
            });
        }
      });

      window.clearAll = () => {
        // only search in main content container, not sidebar
        const mainContent = document.querySelector(".main-content");
        if (!mainContent) return;
        
        const inputs = mainContent.querySelectorAll("input, textarea, select");
        inputs.forEach((input) => {
          if (input.type === "checkbox" || input.type === "radio") {
            input.checked = false;
          } else {
            input.value = "";
          }
        });
        showStatus("üßπ All fields cleared!", "success");
      };

      function showStatus(message, type) {
        const status = document.getElementById("status");
        status.textContent = message;
        status.style.display = "block";
        status.className = `status ${type} show`;

        setTimeout(() => {
          status.classList.remove("show");
          // Hide the status element completely after animation
          setTimeout(() => {
            status.style.display = "none";
          }, 300);
        }, 3000);
      }

      // Initialize the page
      console.log("üéØ Gofakeit Autofill Comprehensive Testing loaded!");
      console.log(
        "This page tests the search API with various input contexts and categories."
      );
      console.log(
        "Check the browser network tab to see search API calls in action!"
      );
    </script>
  </body>
</html>
